# Arco - A ChatGPT Simple Database

A technical solution to structure, store, and analyze data seamlessly within ChatGPT using a customizable database framework. This project enhances interaction with data, offering insights and graphical visualizations—all within the chat interface.

---

## Features

### Database Management

- **Customizable Tables**: Create tables tailored to your needs.
- **Flexible Fields**: Add or remove fields to adjust your database structure.
- **CRUD Operations**:
  - **Create**: Insert new records.
  - **Read**: Query records with flexible filters.
  - **Update**: Modify specific fields of records.
  - **Delete**: Remove records when no longer needed.

### Data Analysis

- **Aggregations**: Metrics such as totals, averages, and counts are computed natively using ChatGPT's integrated Data Analysis tools. ChatGPT calls relevant database endpoints to retrieve data and then applies RAG (Retrieval-Augmented Generation) to generate the required aggregation results.
- **Graphical Visualizations**: Graphical visualizations like bar, pie, and line charts are generated using ChatGPT's integrated Table Visualization tools. These tools fetch the necessary data from your database through API calls and use RAG to present insightful visualizations.

### Integration

- **Export to CSV**: This feature is handled natively by ChatGPT's integrated tools. ChatGPT calls the necessary database endpoints to retrieve your data, which can then be exported seamlessly to CSV for offline analysis.
- **OAuth Authentication**: Secure user authentication and access control.
- **Instructions Management**: Define and manage how ChatGPT interacts with stored data.

### Use Cases

- Sales & Networking, Project Management, Research & Development, Finance & Accounting, Real Estate, Personal Libraries, Maintenance Tracking, Health & Wellness Records, Travel Planning.

---

## API Endpoints

### Database Operations

- **`addTable`**: Create a new table.
- **`addField`**: Add a field to an existing table.
- **`deleteField`**: Remove a field from a table.
- **`deleteTable`**: Delete an existing table.
- **`createRecord`**: Insert a new record.
- **`deleteRecord`**: Delete a record by ID.
- **`updateRecordField`**: Update a field in a record.
- **`queryRecords`**: Fetch records with filtering and pagination.
- **`aggregateRecords`**: Perform aggregation queries on records.

### Instruction Management

- **`createInstructions`**: Define new instructions for data interaction.
- **`deleteInstructions`**: Remove existing instructions.

### Authentication

- **`authAutoLogIn`**: Automatic login for authenticated operations.

### OAuth Endpoints

- **`oAuthAuthorization`**: Handle authorization requests.
- **`oAuthGrant`**: Manage token grants.
- **`oAuthToken`**: Issue and refresh tokens.

---

## Installation

1. Create a new Firebase project to use and set it in the `.firebaserc`.
2. Deploy the project using Firebase.
3. Create a custom GPT.
4. Copy the instructions from `openai-instructions.txt`.
5. Copy the schema from `openai-spec.yaml`.
6. Enable Google login in Firebase Authentication.
7. Go to Firebase Firestore and in `/oauth-clients/[Client ID]` define the following object:
   ```json
   {
     "client_secret": "[Client Secret]"
   }
   ```
   with a secure generated secret generated by you.
8. Define the Authentication settings from your custom GPT as follows:
   - **Authentication**: OAuth
   - **Client ID**: (just defined by you)
   - **Client Secret**: (just defined by you)
   - **Authorization URL**: `https://[Your Domain]/oauth/authorization`
   - **Token URL**: `https://[Your Domain]/oauth/token`
   - **Scope**: `read write`
   - **Token Exchange Method**: Default (POST request)
9. To use, just go to your custom GPT and follow the login instructions.

---

## License

This project is licensed under the MIT License.

---

## Acknowledgments

Developed by Daniel Ángel, integrating advanced AI with structured data for actionable insights.